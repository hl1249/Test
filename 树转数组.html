<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
</html>

<script>
	let treeData = [
	  {
	    "_id": "001",
	    "name": "手机",
	    "children": [
	      {
	        "_id": "002",
	        "name": "华为",
	        "parent_id": "001",
	        "children": [
	          {
	            "_id": "003",
	            "name": "荣耀",
	            "parent_id": "002"
	          }
	        ]
	      },
	      {
	        "_id": "004",
	        "name": "苹果",
	        "parent_id": "001"
	      }
	    ]
	  },
	  {
	    "_id": "005",
	    "name": "电脑",
	    "children": [
	      {
	        "_id": "006",
	        "name": "联想",
	        "parent_id": "005"
	      },
	      {
	        "_id": "007",
	        "name": "小米",
	        "parent_id": "005"
	      }
	    ]
	  }
	];
	
	function toArray(tree){
		let result = []
		
		
		function treeToArray(tree,parent_id = null){
			tree.forEach((item) =>{
				if(parent_id){
					result.push({
						_id:item._id,
						name:item.name,
						parent_id:parent_id
					})
				}else{
					result.push({
						_id:item._id,
						name:item.name,
					})
				}
				
				if(item.children){
					treeToArray(item.children,item._id)
				}
				
			})
		}
		treeToArray(tree)
		return result
	}
	
	const array  =  toArray(treeData)
	console.log(array)
</script>